
<div class="page-layout simple left-sidebar inner-sidebar inner-scroll" *canViewAuth [@fadeInOnEnter]>

    <!-- HEADER -->
    <div class="header p-24" fxLayout="row" fxLayoutAlign="space-between center">
        <span class="text-left">
            <h1 [@animate]="{ value:'*', params:{ delay: '100ms', x:'-25px' } }">CCS-Message</h1>
        </span>
    </div>
    <!-- / HEADER -->

    <!-- CONTENT -->
    <div class="content">

        <!-- SIDEBAR -->
        <fuse-sidebar class="sidebar" name="table-sidebar" position="left">

            <ccs-notification-sidenav [@animate]="{ value:'*', params:{ delay: '200ms', x:'-30px' } }">
            </ccs-notification-sidenav>

        </fuse-sidebar>
        <!-- / SIDEBAR -->

        <!-- LIST VIEW -->
        
        <div class="content p-24 pt-0" [@animate]="{ value:'*', params:{ delay: '100ms', y:'15px' } }">

            <!-- CONTENT TOOLBAR -->
            <div class="toolbar px-8 py-8" fxLayout="row" fxLayoutAlign="space-between center">
                
                <span fxLayout="row" fxLayoutAlign="space-between center">

                    <button class="text-uppercase blank" nz-button nzType="link" (click)="toggleSidebar('table-sidebar')">
                        <i class="filter icon custom-icon"></i>
                    </button>

                    <nz-divider nzType="vertical" class="mr-16"></nz-divider>

                </span>

            </div>
            <!--/ CONTENT TOOLBAR -->

            <ng-container>
                <nz-table #headerTable [nzData]="messageData" [nzNoResult]="emptyBlock"
                    [nzLoading]="tableLoading" [nzLoadingIndicator]="indicatorTemplate">
                    <thead>
                        <tr>
                            <th nzWidth="150px">Date</th>
                            <th nzWidth="150px">Source</th>
                            <th nzWidth="150px">Source ID</th>
                            <th nzWidth="150px">Subject</th>
                            <th nzWidth="150px">Type</th>
                            <th nzWidth="150px"> Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of headerTable.data">
                            <td>{{item.dateTime | date:"dd-MM-yyyy"}}</td>
                            <td *ngIf="item.source === 'ACCTMG'">Account management</td>
                            <td *ngIf="item.source === 'ENRCRT'">Enrolment - create</td>
                            <td *ngIf="item.source === 'ENRUPD'">Enrolment - update</td>
                            <td *ngIf="item.source === 'SSRCRT'">Session report - create</td>
                            <td *ngIf="item.source === 'SSRUPD'">Session report – update</td>
                            <td *ngIf="item.source === 'FDCEXM'">FDC Exemption</td>
                            <td *ngIf="item.source === 'ACCSCW'">ACCS Child Wellbeing</td>
    
                            <td *ngIf="item.source === 'PAYMNT'">Payment</td>
                            <td *ngIf="item.source === 'RTNFEE'">Return Fee Reduction</td>
                            <td *ngIf="item.source === 'ENTTLM'">Entitlement</td>
    
                            <td *ngIf="item.source === 'CAREPV'">Care Provided and Vacancy</td>
                            <td *ngIf="item.source === 'DEBTMG'">Debt Management</td>
    
                            <td *ngIf="item.source === 'DL23'">Confirmation of CCS application</td>
                            <td *ngIf="item.source === 'DL26'">CCS application withdrawaln</td>
                            <td *ngIf="item.source === 'DL31'">Provider details changed</td>
                            <td *ngIf="item.source === 'DL32'">Provider bank details changed</td>
                            <td *ngIf="item.source === 'DL33'">Service details changed</td>
    
                            <td *ngIf="item.source === 'DL34'">Service bank details changed</td>
                            <td *ngIf="item.source === 'DL37'">Change to provider personnel</td>
                            <td *ngIf="item.source === 'DL38'">Service personnel added</td>
                            <td *ngIf="item.source === 'DL41'">Provider personnel changed</td>
                            <td *ngIf="item.source === 'DL52'">Rejected Payment – update bank details</td>
    
                            <td *ngIf="item.source === 'PSD2'">CCS payment advice summary</td>
                            <td *ngIf="item.source === 'C013'">ACCS approved additional CCS</td>
                            <td *ngIf="item.source === 'C015'">ACCS Child Wellbeing Rejection/Cancelled</td>
                            <td *ngIf="item.source === 'C016'">CWB Assessment provider reject</td>
    
                            <td>{{item.sourceId}}</td>
                            <td>{{item.subject}}</td>
    
                            <td *ngIf="item.type === 'INFO'">Information only</td>
                            <td *ngIf="item.type === 'WARNIG'">Warning only</td>
                            <td *ngIf="item.type === 'ERROR'">An error has occurred</td>
                            <td *ngIf="item.type === 'IMMED'">Immediate action required</td>
                            <td>{{item.desc}}</td>
                        </tr>
                    </tbody>
                </nz-table>
    
                <ng-template #indicatorTemplate>
                    <div class="is-loading">
                        <span class="btn-spinner card-loader"></span>
                    </div>
                </ng-template>
    
                <ng-template #emptyBlock>
    
                    <nz-empty class="pt-24 pb-24 m-0" [nzNotFoundImage]="'assets/icons/flat/ui_set/custom_icons/empty.svg'"
                        [nzNotFoundContent]="contentTpl" [@fadeInOnEnter] [@fadeOutOnLeave]>
    
                        <ng-template #contentTpl>
                            <h4 class="mt-24">No Data Found</h4>
                            <span>Looks like there's no information to display here</span>
                        </ng-template>
    
                    </nz-empty>
    
                </ng-template>
    
            </ng-container>
    
        </div>
        
        <!-- / LIST VIEW -->

</div>
