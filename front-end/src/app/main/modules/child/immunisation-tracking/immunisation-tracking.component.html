<div class="page-layout carded fullwidth inner-scroll" *canViewAuth [@fadeInOnEnter]>

    <!-- CENTER -->
    <div class="center">

        <!-- CONTENT HEADER -->
        <div class="header pt-24 pb-24" fxLayout="row" fxLayoutAlign="space-between center">

            <h1 [@animate]="{ value:'*', params:{ delay: '100ms', x:'-25px' } }">

                <span class="h2">
                    Immunisation Tracking
                </span>

            </h1>

            <ng-container *hasPermission="['AC1']; belongsTo 'N25'">

                <!-- <button class="text-uppercase"
                    nz-button 
                    nzType="primary" 
                    (click)="createBooking($event)"
                    [promiseBtn]="buttonLoader">
                    <i class="plus icon mr-8"></i> Create New
                </button> -->

            </ng-container>

        </div>
        <!-- / CONTENT HEADER -->

        <!-- CONTENT CARD -->
        <div class="content-card ps" [@animate]="{ value:'*', params:{ delay: '100ms', y:'15px' } }">

            <!-- CONTENT TOOLBAR -->
            <div class="toolbar px-8" fxLayout="row" fxLayoutAlign="space-between center">

                <span class="text-uppercase go-back-link" 
                    (click)="onBack($event)">
                    <i class="long arrow alternate left icon"></i> 
                    <span>Go Back</span>
                </span>

                <span fxLayout="row" fxLayoutAlign="space-between center">

                    <button class="text-uppercase blank qt"
                        [ngClass]="{ 'active' : viewHelpPanel }"
                        nz-button 
                        nzType="link"
                        (click)="showHelpPanel($event)">
                        <i class="question circle outline icon"></i>
                    </button>

                    <button class="text-uppercase blank qt"
                        [ngClass]="{ 'active' : child.immunisationTracking }"
                        nz-button 
                        nzType="link"
                        (click)="updateTracking($event)"
                        tooltip="Tracking" display-mobile="false" hide-delay="50">
                        <i nz-icon nzType="bell" nzTheme="outline"></i>
                    </button>

                    <button class="text-uppercase blank"
                        nz-button 
                        nzType="link"
                        (click)="print($event)">
                        <i class="print icon font-size-14"></i>
                    </button>
                    <button class="text-uppercase blank"
                        nz-button 
                        nzType="link"
                        (click)="reloadTable($event)">
                        <i class="sync alternate icon"></i>
                    </button>

                </span>

            </div>
            <!-- / CONTENT TOOLBAR -->

            <!-- CONTENT -->
            <div class="content ps" fxLayout="column">

                <div class="help-panel" *ngIf="viewHelpPanel" [@slideMotion]="'bottom'">

                    <div class="booking-summary">

                        <ul>
                            <li>
                                <span class="label">
                                    <i class="hourglass half icon mr-4"></i>
                                    Age
                                </span>
                                <span class="label highlight">
                                    {{ child.age}}
                                </span>
                            </li>
                        </ul>
    
                        <ul>
                            <li>
                                <span class="label">
                                    <i class="clock half icon mr-4"></i>
                                    Date of birth
                                </span>
                                <span class="label highlight">
                                    {{ child.dob}}
                                </span>
                            </li>
                        </ul>

                    </div>

                    <ul class="booking-types">
                        <li *ngFor="let item of ImmunisationTrackingUITypes; trackBy: trackByFn;">
                            <i class="color-box circle icon color-code mr-8 {{ item.color}}"></i>
                            <span class="label">{{ item.name }}</span>
                        </li>
                    </ul>

                </div>

                <immunisation-tracker-detail-view 
                    [isCreateButtonLoading]="buttonLoader" 
                    (updateImmunisationSummary)="getImmunisationSummaryUpdates($event)"
                    (immunisationTableData)="getImmunisationData($event)">
                </immunisation-tracker-detail-view>

            </div>
            <!-- / CONTENT -->

            <!-- SIDEBAR -->
            <!-- <fuse-sidebar class="sidebar"
                name="child-calendar-filter-sidebar"
                position="right">

                <child-calender-filters [@animate]="{ value:'*', params:{ delay: '200ms', x:'30px' } }"></child-calender-filters>

            </fuse-sidebar> -->
            <!-- / SIDEBAR -->

        </div>
        <!-- / CONTENT CARD -->

    </div>
    <!-- / CENTER -->

</div>