<div nz-row [nzGutter]="24" *ngIf="newInputs?.length>0 && (form=='waitlist'|| form=='enquiry')">
    <div *ngFor="let newInput  of newInputs"
         [hidden]="(form=='waitlist' && (section['code'] !== newInput.waitlist_section || newInput.waitlist_section=='')) || (form=='enquiry' && (section['code'] !== newInput.enquiry_section || newInput.enquiry_section==''))
         || (newInput.name=='dateOfBirth' && !childBornChecked)
         || (newInput.name=='childGender' && !childBornChecked)"
         nz-col
         [nzXs]="24"
         [nzSm]="(newInput.height=== '33')?8:(newInput.height==='66')?16:(newInput.height==='50')?12:(newInput.height==='70')?18:24"
         [nzMd]="(newInput.height=== '33')?8:(newInput.height==='66')?16:(newInput.height==='50')?12:(newInput.height==='70')?18:24"
         [nzXl]="(newInput.height=== '33')?8:(newInput.height==='66')?16:(newInput.height==='50')?12:(newInput.height==='70')?18:24"
         [nzXXl]="(newInput.height=== '33')?8:(newInput.height==='66')?16:(newInput.height==='50')?12:(newInput.height==='70')?18:24"
    >
        <div *ngIf="(form=='waitlist' && section['code']==newInput.waitlist_section) || (form=='enquiry' && section['code']==newInput.enquiry_section) ">

            <!--------------------------   textbox ------------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.input_type=='textbox'">
                <span fxLayout="row" fxLayoutAlign="start start">
                    <nz-form-label class="pr-8" style="float: top"
                                   [nzRequired]="newInput.required">
                    </nz-form-label>
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>

                <nz-form-control [nzErrorTip]="newInputName">
                    <input nz-input formControlName="{{newInput.name}}"
                           placeholder="{{newInput.placeholder}}"
                           type="text"/>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                        <ng-container *ngIf="control.hasError('maxlength')">Can't be longer than 150
                            characters
                        </ng-container>
                        <ng-container *ngIf="control.hasError('pattern')">Please enter Valid Input Only
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!--------------------------   gender ------------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='radio-group' && newInput.name=='childGender' && childBornChecked">
                <span fxLayout="row" fxLayoutAlign="start start">
                    <nz-form-label class="pr-8" style="float: top"
                                   [nzRequired]="newInput.required">
                    </nz-form-label>
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>

                <nz-form-control [nzErrorTip]="newInputName">
                    <nz-radio-group formControlName="{{newInput.name}}" nzButtonStyle="solid" class="has-img">

                        <label nz-radio-button nzValue="0">
                            <!--                            <img class="mr-8" src="assets/icons/flat/ui_set/custom_icons/form/male.svg"-->
                            <!--                                 alt="male icon">-->
                            <span>Male</span>
                        </label>

                        <label nz-radio-button nzValue="1">
                            <!--                            <img class="mr-8" src="assets/icons/flat/ui_set/custom_icons/form/femenine.svg"-->
                            <!--                                 alt="female icon">-->
                            <span>Female</span>
                        </label>

                    </nz-radio-group>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please select an gender
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!--------------------------   email ------------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.input_type=='email'">
                <span fxLayout="row" fxLayoutAlign="start start">
                    <nz-form-label class="pr-8" style="float: top"
                                   [nzRequired]="newInput.required">
                    </nz-form-label>
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>

                <nz-form-control [nzErrorTip]="newInputName">
                    <input nz-input formControlName="{{newInput.name}}"
                           placeholder="{{newInput.placeholder}}"
                           type="email"/>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                        <ng-container *ngIf="control.hasError('maxlength')">Can't be longer than 150
                            characters
                        </ng-container>
                        <ng-container *ngIf="control.hasError('email')">Please input a valid email address
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!-------------------------   attendance   ------------------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.name=='attendance'">
               <span fxLayout="row" fxLayoutAlign="start start">
                    <nz-form-label class="pr-8" style="float: top"
                                   [nzRequired]="newInput.required">
                    </nz-form-label>
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>
                <nz-form-control [nzErrorTip]="newInput.name" formArrayName="attendance">
                    <div class="day-selector" *ngFor="let group of attendanceArray.controls; let i = index;"
                         [formGroupName]="i">
                        <div class="day-selector-inner">
                            <ng-container>
                                <label class="attendance-chk" nz-checkbox formControlName="monday"
                                       (ngModelChange)="mandatoryChange(i)"
                                       [nzChecked]="allChecked"
                                       tooltip="{{ 'Monday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Monday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="tuesday"
                                       (ngModelChange)="mandatoryChange(i)"
                                       [nzChecked]="allChecked"
                                       tooltip="{{ 'Tuesday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Tuesday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="wednesday"
                                       (ngModelChange)="mandatoryChange(i)"
                                       [nzChecked]="allChecked"
                                       tooltip="{{ 'Wednesday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Wednesday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="thursday"
                                       (ngModelChange)="mandatoryChange(i)"
                                       [nzChecked]="allChecked"
                                       tooltip="{{ 'Thursday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Thursday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="friday"
                                       (ngModelChange)="mandatoryChange(i)"
                                       [nzChecked]="allChecked"
                                       tooltip="{{ 'Friday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Friday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="allDays"
                                       (ngModelChange)="mandatoryChange(i)"
                                       [nzChecked]="allChecked"
                                       tooltip="{{ 'A am fully flexible on days' }}" placement="top"
                                       display-mobile="false"
                                       hide-delay="50"><span [ngClass]="{ weekend : true }"
                                                             class="attendance-lbl-inner no-select">{{ 'all'| shorten: 3: '' }}</span></label>
                            </ng-container>
                        </div>
                    </div>
                    <div style="color:#f50707;"
                         *ngIf="newInput.required && !attendanceChecked && this.formGroup.controls.attendance.touched">
                        <ng-container>
                            Please Select
                        </ng-container>
                    </div>
                </nz-form-control>
            </nz-form-item>

            <!----------------------------   select  - country   ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='select' && newInput.name=='parentCountry'">
               <span fxLayout="row" fxLayoutAlign="start start">
                    <nz-form-label class="pr-8" style="float: top"
                                   [nzRequired]="newInput.required">
                    </nz-form-label>
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>

                <nz-form-control [nzErrorTip]="newInputName">
                    <nz-select formControlName="{{newInput.name}}" nzShowSearch
                               nzPlaceHolder="{{newInput.placeholder}}">
                        <nz-option *ngFor="let items of countriesList" nzValue="{{ items.code }}"
                                   nzLabel="{{ items.name }}" title="{{items.name}}">
                        </nz-option>
                    </nz-select>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>


            <!----------------------------   select     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='select' && newInput.name !=='parentCountry'">
                <span fxLayout="row" fxLayoutAlign="start start">
                    <nz-form-label class="pr-8" style="float: top"
                                   [nzRequired]="newInput.required">
                    </nz-form-label>
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>

                <nz-form-control [nzErrorTip]="newInputName">
                    <nz-select formControlName="{{newInput.name}}" nzShowSearch
                               nzPlaceHolder="{{newInput.placeholder}}">
                        <nz-option *ngFor="let items of newInput.types.options" nzValue="{{ items }}"
                                   nzLabel="{{ items }}" title="{{items}}">
                        </nz-option>
                    </nz-select>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>
            <!----------------------------   select-multiple     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.input_type=='select-multiple'">
                <span fxLayout="row" fxLayoutAlign="start start">
                    <nz-form-label class="pr-8" style="float: top"
                                   [nzRequired]="newInput.required">
                    </nz-form-label>
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>

                <nz-form-control>
                    <nz-select nzMode="multiple" formControlName="{{newInput.name}}" nzShowSearch nzAllowClear
                               nzPlaceHolder="{{newInput.placeholder}}">

                        <nz-option *ngFor="let items of newInput.types.options" nzValue="{{ items }}"
                                   nzLabel="{{ items }}" title="{{items}}">
                        </nz-option>

                    </nz-select>
                </nz-form-control>
            </nz-form-item>


            <!----------------------------   checkbox     ------------------------->
            <div [formGroup]="formGroup" nz-col [nzMd]="24" [nzLg]="24"
                 *ngIf="newInput.input_type=='checkbox'">
                <!--multiple-->
                <div fxLayout="row" fxLayoutAlign="start start">
                    <div *ngIf="newInput.types?.multiple">
                    <span fxLayout="row" fxLayoutAlign="start start">
                        <nz-form-label class="pr-8" style="float: top"
                                       [nzRequired]="newInput.required" *ngIf="newInput.types?.multiple">
                        </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>

                        <div>
                            <nz-checkbox-wrapper *ngIf="newInput.types?.multiple"
                                                 style="width: 100%;padding-left: 20px">
                                <div nz-row>
                                    <div nz-col nzSpan="24" *ngFor="let option of newInput.types.options">
                                        <label nz-checkbox
                                               nzMode="multiple"
                                               formControlName="{{newInput.name}}"
                                               [nzChecked]="checkEmpty(newInput.values)?false:(newInput.values.indexOf(option) > -1)"
                                               (nzCheckedChange)="changeMultiChecks(newInput.name,$event,option,section['code'])"
                                               nzValue="{{option}}">{{option}}</label>
                                    </div>
                                </div>
                            </nz-checkbox-wrapper>
                        </div>
                    </div>
                </div>


                <!--normal-->
                <div fxLayout="row" fxLayoutAlign="start start"
                     *ngIf="(newInput.types?.multiple===false || newInput.types?.multiple===undefined) && (newInput.types?.fontBold === undefined || newInput.types.fontBold===false)">
                    <label
                        *ngIf="(newInput.types?.multiple===false || newInput.types?.multiple===undefined) && (newInput.types?.fontBold === undefined || newInput.types.fontBold===false)"
                        nz-checkbox
                        formControlName="{{newInput.name}}">
                        <!--                    <span>{{input.question}}</span>-->
                    </label>
                    <span class="checkboxLabel"
                          *ngIf="(newInput.types?.multiple===false || newInput.types?.multiple===undefined) && (newInput.types?.fontBold === undefined || newInput.types.fontBold===false)">
                               <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="newInput.required">
                                        </nz-form-label>
                                        <span [innerHTML]="newInput.question | keepHtml"></span>
                                </span>
                            </span>
                </div>


                <!--bold-->
                <div fxLayout="row" fxLayoutAlign="start start"
                     *ngIf="(newInput.types?.fontBold !== undefined && newInput.types?.fontBold===true) && (newInput.types?.multiple===false || newInput.types?.multiple===undefined)">
                    <div>
                        <label
                            *ngIf="(newInput.types?.fontBold !== undefined && newInput.types?.fontBold===true) && (newInput.types?.multiple===false || newInput.types?.multiple===undefined)"
                            nz-checkbox
                            formControlName="{{newInput.name}}">

                        </label>
                        <span class="checkboxLabel"
                              *ngIf="(newInput.types?.fontBold !== undefined && newInput.types?.fontBold===true) && (newInput.types?.multiple===false || newInput.types?.multiple===undefined)">
                             <b>
                                    <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="newInput.required">
                                        </nz-form-label>
                                        <span [innerHTML]="newInput.question | keepHtml"></span>
                                    </span>
                             </b>
                        </span>
                    </div>
                </div>
            </div>

            <!----------------------------   switch/toggle     ------------------------->
            <nz-form-item nz-col [nzXs]="mobile?16:''" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='switch' && newInput.name!=='child_bornOrNot'">
                <div fxLayout="row" fxLayoutAlign="space-between center">
                    <span fxLayout="row" fxLayoutAlign="start start">
                           <nz-form-label class="pr-8" style="float: top"
                                          [nzRequired]="newInput.required">
                           </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>
                    <span class="text-right" style="padding-left: 30px">
                        <nz-form-control class="text-right" style="padding-left: 30px">
                            <nz-switch
                                formControlName="{{newInput.name}}" nzCheckedChildren="Yes"
                                nzUnCheckedChildren="No">
                            </nz-switch>
                        </nz-form-control>
                    </span>
                </div>
            </nz-form-item>


            <!----------------------------   switch/toggle  - child_bornOrNot   ------------------------->
            <nz-form-item nz-col [nzXs]="mobile?16:''" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='switch' && newInput.name=='child_bornOrNot'">
                <div fxLayout="row" fxLayoutAlign="space-between center">
                    <span [innerHTML]="newInput.question | keepHtml"></span>

                    <nz-form-control class="text-right" style="padding-left: 30px">
                        <nz-switch
                            formControlName="{{newInput.name}}"
                            (ngModelChange)="onChildBornCheck($event)"
                            nzCheckedChildren="Yes"
                            nzUnCheckedChildren="No">
                        </nz-switch>
                    </nz-form-control>
                </div>
            </nz-form-item>

            <!----------------------------   date of birth     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='date-picker' && newInput.name=='dateOfBirth' && childBornChecked">
               <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>

                <nz-form-control [nzErrorTip]="newInputName">
                    <nz-date-picker [nzInputReadOnly]="true"
                                    formControlName="{{newInput.name}}"
                                    placeholder="{{newInput.placeholder}}"
                                    class="block">
                    </nz-date-picker>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!----------------------------   datepicker     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='date-picker' && newInput.name!=='dateOfBirth'">
                <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>
                <nz-form-control [nzErrorTip]="newInputName">
                    <nz-date-picker [nzInputReadOnly]="true"
                                    formControlName="{{newInput.name}}"
                                    placeholder="{{newInput.placeholder}}"
                                    class="block">
                    </nz-date-picker>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!----------------------------   textarea     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.input_type=='text-area'">
                 <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                </span>
                <nz-form-control [nzErrorTip]="newInputName">
                      <textarea formControlName="{{newInput.name}}" nz-input
                                rows="4"
                                placeholder="{{newInput.placeholder}}">
                      </textarea>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                        <ng-container *ngIf="control.hasError('maxlength')">Can't be longer than 250
                            characters
                        </ng-container>
                        <ng-container *ngIf="control.hasError('pattern')">Please enter Valid Input Only
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!----------------------------   richTextBox     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="(newInput.input_type=='richTextBox') && !newInput.hidden">
                <span [innerHTML]="newInput.question | keepHtml"></span>
            </nz-form-item>
            <!----------------------------------------------- hyperlink -------------------------------------------------------->

            <nz-form-item [formGroup]="formGroup"
                          *ngIf="(newInput.input_type=='hyperlink') && !newInput.hidden">
                <a (click)="gotoPage(newInput.types.hyperlink)"><span [innerHTML]="newInput.question | keepHtml"></span></a>
            </nz-form-item>
            <!----------------------------------------------- Signature -------------------------------------------------------->

            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="(newInput.input_type=='signature') && !newInput.hidden">
                 <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                 </span>
                <nz-form-control nzHasFeedback class="signatureClass">
                    <signature-pad disabled="true" #signature
                                   [options]="{ 'minWidth': 0.7,'maxWidth':2.5, 'canvasWidth':(canvasWidth-50),'canvasHeight': ((canvasWidth-50)/6)}"
                                   (onEndEvent)="drawComplete(newInput.name)"
                    ></signature-pad>
                </nz-form-control>
                <button (click)="clearSignature(newInput.name)" type="button" nz-button nzType="dashed" nzBlock>Clear
                </button>
            </nz-form-item>

            <!----------------------------------------------- upload switch - common -------------------------------------------------------->

            <nz-form-item nz-col style="margin-top: 5px;margin-bottom: 5px" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='upload-switch'">
                <div fxLayout="row" fxLayoutAlign="space-between center">
                    <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>
                    <nz-switch
                        (ngModelChange)="onUpload($event, newInput.name)"
                        formControlName="{{newInput.name}}" nzCheckedChildren="Yes"
                        nzUnCheckedChildren="No">
                    </nz-switch>
                </div>
                <nz-form-control
                    *ngIf="(uploadedFiles[newInput.name] && uploadedFiles[newInput.name].length>0) || onUploadChecked[newInput.name]">
                    <div class="mt-16">
                        <s3-upload [bucket]="s3Bucket"
                                   (uploadedFileListChange)="handleUploadChange($event, newInput.name)"
                                   [uploadTypeLimit]="uploadTypes"
                                   [defaultFileList]="getDefaultFiles(newInput.name)"
                                   [path]="s3Path">
                        </s3-upload>
                    </div>
                    <div class="fileUploadValidate"
                         *ngIf="onUploadChecked[newInput.name] && checkedUploading[newInput.name]">
                        Please upload file
                    </div>
                </nz-form-control>
            </nz-form-item>
        </div>
    </div>
</div>
<div nz-row [nzGutter]="24" *ngIf="newInputs?.length>0 && form=='enrolment'">
    <div *ngFor="let newInput  of newInputs"
         [hidden]="section['code'] !== newInput.section || newInput.section == ''"
         nz-col
         [nzXs]="24"
         [nzSm]="(newInput.height=== '33')?8:(newInput.height==='66')?16:(newInput.height==='50')?12:(newInput.height==='70')?18:24"
         [nzMd]="(newInput.height=== '33')?8:(newInput.height==='66')?16:(newInput.height==='50')?12:(newInput.height==='70')?18:24"
         [nzXl]="(newInput.height=== '33')?8:(newInput.height==='66')?16:(newInput.height==='50')?12:(newInput.height==='70')?18:24"
         [nzXXl]="(newInput.height=== '33')?8:(newInput.height==='66')?16:(newInput.height==='50')?12:(newInput.height==='70')?18:24"
    >
        <div *ngIf="section['code']==newInput.section">

            <!--------------------------   textbox ------------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.input_type=='textbox'">
                <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                 </span>

                <nz-form-control [nzErrorTip]="newInputName">
                    <input nz-input formControlName="{{newInput.name}}"
                           placeholder="{{newInput.placeholder}}"
                           type="text"/>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                        <ng-container *ngIf="control.hasError('maxlength')">Can't be longer than 150
                            characters
                        </ng-container>
                        <ng-container *ngIf="control.hasError('pattern')">Please enter Valid Input Only
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!----------------------------------------------- textbox switch -------------------------------------------------------->

            <nz-form-item nz-col [nzXs]="mobile?16:''" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='textbox-switch'&& newInput.name=='culturalRequirements'">
                <div fxLayout="row" fxLayoutAlign="space-between center">
                    <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>

                    <nz-form-control class="text-right" style="padding-left: 30px">
                        <nz-switch
                            formControlName="{{newInput.name}}" nzCheckedChildren="Yes"
                            nzUnCheckedChildren="No">
                        </nz-switch>
                    </nz-form-control>
                </div>
                <div fxLayout="row" fxLayoutAlign="space-between center" style="padding-top: 10px"
                     *ngIf="formGroup.controls.culturalRequirements.value">
                    <input
                        *ngIf="formGroup.controls.culturalRequirements.value" nz-input
                        formControlName="cultuaral_requirements_switch" placeholder="Cultural Background"
                        type="text"/>
                </div>
            </nz-form-item>

            <!-- <nz-form-item nz-col [nzXs]="mobile?16:''" [formGroup]="formGroup"
                           *ngIf="newInput.input_type=='textbox-switch'&& newInput.name=='culturalRequirements'">

                 <nz-form-label [nzRequired]="newInput.input_mandatory"><span
                     [innerHTML]="newInput.question | keepHtml"></span></nz-form-label>

                 <nz-form-control fxLayout="column" fxLayoutAlign="space-around stretch" nzHasFeedback>
                     <nz-form-item>
                         <nz-switch (ngModelChange)="customChange($event,newInput.input_name)"
                                    formControlName="{{newInput.input_name}}" nzCheckedChildren="Yes"
                                    nzUnCheckedChildren="No">
                         </nz-switch>
                     </nz-form-item>

                     <nz-form-item>
                         <nz-form-item *ngFor="let inp of newInput.types.inputs">
                             {{inp.input_name}}
                         </nz-form-item>
                     </nz-form-item>
                 </nz-form-control>

             </nz-form-item>-->

            <!----------------------------------------------- select switch -------------------------------------------------------->

            <nz-form-item nz-col [nzXs]="mobile?16:''" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='textbox-switch'&& newInput.name=='religiousRequirements'">
                <div fxLayout="row" fxLayoutAlign="space-between center">
                     <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>

                    <nz-form-control class="text-right" style="padding-left: 30px">
                        <nz-switch
                            formControlName="{{newInput.name}}" nzCheckedChildren="Yes"
                            nzUnCheckedChildren="No">
                        </nz-switch>
                    </nz-form-control>
                </div>
                <div fxLayout="row" fxLayoutAlign="space-between center" style="padding-top: 10px"
                     *ngIf="formGroup.controls.religiousRequirements.value">
                    <input
                        nz-input
                        formControlName="religious_requirements_switch"
                        placeholder="Religious Requirements"
                        type="text"/>
                </div>
            </nz-form-item>

            <!--<nz-form-item nz-col [nzXs]="mobile?16:''" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='textbox-switch'&& newInput.name=='religiousRequirements'">

                <nz-form-label
                    [nzRequired]="newInput.input_mandatory"><span [innerHTML]="newInput.question | keepHtml"></span>
                </nz-form-label>
                <nz-form-control fxLayout="column" fxLayoutAlign="space-around stretch" nzHasFeedback>
                    <nz-form-item>
                        <nz-switch (ngModelChange)="customChange($event,newInput.input_name)"
                                   formControlName="{{newInput.input_name}}" nzCheckedChildren="Yes"
                                   nzUnCheckedChildren="No">
                        </nz-switch>
                    </nz-form-item>

                    <nz-form-item>
                        <nz-form-item *ngFor="let inp of newInput.types.inputs">
                            <input *ngIf="religiousrequirementschecked" nz-input
                                   formControlName="{{inp.input_name}}" placeholder="{{inp.placeholder}}"
                                   type="text"/>
                        </nz-form-item>
                    </nz-form-item>
                </nz-form-control>

            </nz-form-item>-->

            <!----------------------------   select  - country   ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='select' && (newInput.name=='parentCountry' || newInput.name=='additionalCarerCountry')">
                 <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>

                <nz-form-control [nzErrorTip]="newInputName">
                    <nz-select formControlName="{{newInput.name}}" nzShowSearch
                               nzPlaceHolder="{{newInput.placeholder}}">
                        <nz-option *ngFor="let items of countriesList" nzValue="{{ items.code }}"
                                   nzLabel="{{ items.name }}" title="{{items.name}}">
                        </nz-option>
                    </nz-select>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>


            <!----------------------------   select     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='select' && !(newInput.name ==='parentCountry' || newInput.name=='additionalCarerCountry')">
                 <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>
                <nz-form-control [nzErrorTip]="newInputName">
                    <nz-select formControlName="{{newInput.name}}" nzShowSearch
                               nzPlaceHolder="{{newInput.placeholder}}">
                        <nz-option *ngFor="let items of newInput.types.options" nzValue="{{ items }}"
                                   nzLabel="{{ items }}" title="{{items}}">
                        </nz-option>
                    </nz-select>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!----------------------------   select-multiple     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.input_type=='select-multiple'">
                 <span fxLayout="row" fxLayoutAlign="start start">
                                   <nz-form-label class="pr-8" style="float: top"
                                                  [nzRequired]="newInput.required">
                                    </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>
                <nz-form-control>
                    <nz-select nzMode="multiple" formControlName="{{newInput.name}}" nzShowSearch nzAllowClear
                               nzPlaceHolder="{{newInput.placeholder}}">

                        <nz-option *ngFor="let items of newInput.types.options" nzValue="{{ items }}"
                                   nzLabel="{{ items }}" title="{{items}}">
                        </nz-option>

                    </nz-select>
                </nz-form-control>
            </nz-form-item>

            <!----------------------------   checkbox     ------------------------->
            <div [formGroup]="formGroup" nz-col [nzMd]="24" [nzLg]="24"
                 *ngIf="newInput.input_type=='checkbox'">
                <!--multiple-->
                <div *ngIf="newInput.types?.multiple">
                    <div>
                         <span fxLayout="row" fxLayoutAlign="start start">
                            <nz-form-label class="pr-8" style="float: top"
                                           [nzRequired]="newInput.required" *ngIf="newInput.types?.multiple">
                            </nz-form-label>
                            <span [innerHTML]="newInput.question | keepHtml"></span>
                        </span>
                    </div>
                    <div>
                        <nz-checkbox-wrapper *ngIf="newInput.types?.multiple"
                                             style="width: 100%;padding-left: 20px">
                            <div nz-row>
                                <div nz-col nzSpan="24" *ngFor="let option of newInput.types.options">
                                    <label nz-checkbox nzMode="multiple"
                                           [nzChecked]="checkEmpty(newInput.values)?false:(newInput.values.indexOf(option) > -1)"
                                           (nzCheckedChange)="changeMultiChecks(newInput.name,$event,option,section['code'])"
                                           nzValue="{{option}}">{{option}}</label>
                                </div>
                            </div>
                        </nz-checkbox-wrapper>
                    </div>
                </div>


                <!--normal-->
                <div fxLayout="row" fxLayoutAlign="start start"
                     *ngIf="(newInput.types?.multiple===false || newInput.types?.multiple===undefined) && (newInput.types?.fontBold === undefined || newInput.types.fontBold===false)">
                    <label
                        *ngIf="(newInput.types?.multiple===false || newInput.types?.multiple===undefined) && (newInput.types?.fontBold === undefined || newInput.types.fontBold===false)"
                        nz-checkbox
                        formControlName="{{newInput.name}}">
                        <!--                    <span>{{input.question}}</span>-->
                    </label>
                    <span class="checkboxLabel"
                          *ngIf="(newInput.types?.multiple===false || newInput.types?.multiple===undefined) && (newInput.types?.fontBold === undefined || newInput.types.fontBold===false)">
                              <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="newInput.required">
                                        </nz-form-label>
                                        <span [innerHTML]="newInput.question | keepHtml"></span>
                                </span>
                        </span>
                </div>


                <!--bold-->
                <div fxLayout="row" fxLayoutAlign="start start"
                     *ngIf="(newInput.types?.fontBold !== undefined && newInput.types?.fontBold===true) && (newInput.types?.multiple===false || newInput.types?.multiple===undefined)">
                    <div>
                        <label
                            *ngIf="(newInput.types?.fontBold !== undefined && newInput.types?.fontBold===true) && (newInput.types?.multiple===false || newInput.types?.multiple===undefined)"
                            nz-checkbox
                            formControlName="{{newInput.name}}">

                        </label>
                        <span class="checkboxLabel"
                              *ngIf="(newInput.types?.fontBold !== undefined && newInput.types?.fontBold===true) && (newInput.types?.multiple===false || newInput.types?.multiple===undefined)">
                             <b>
                                    <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="newInput.required">
                                        </nz-form-label>
                                        <span [innerHTML]="newInput.question | keepHtml"></span>
                                    </span>
                            </b>
                        </span>
                    </div>
                </div>
            </div>

            <!----------------------------   switch/toggle     ------------------------->
            <nz-form-item nz-col [nzXs]="mobile?16:''" [formGroup]="formGroup" *ngIf="newInput.input_type=='switch'">
                <div fxLayout="row" fxLayoutAlign="space-between center">
                   <span fxLayout="row" fxLayoutAlign="start start">
                        <nz-form-label class="pr-8" style="float: top"
                                       [nzRequired]="newInput.required">
                        </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>

                    <nz-form-control class="text-right" style="padding-left: 30px">
                        <nz-switch
                            formControlName="{{newInput.name}}" nzCheckedChildren="Yes"
                            nzUnCheckedChildren="No">
                        </nz-switch>
                    </nz-form-control>
                </div>
            </nz-form-item>

            <!----------------------------   datepicker     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.input_type=='date-picker'">
                <nz-form-label [nzRequired]="newInput.required">
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </nz-form-label>
                <nz-form-control [nzErrorTip]="newInputName">
                    <nz-date-picker [nzInputReadOnly]="true"
                                    formControlName="{{newInput.name}}"
                                    placeholder="{{newInput.placeholder}}"
                                    class="block">
                    </nz-date-picker>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!----------------------------   textarea     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.input_type=='text-area'">
                <nz-form-label [nzRequired]="newInput.required">
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </nz-form-label>
                <nz-form-control [nzErrorTip]="newInputName">
                      <textarea formControlName="{{newInput.name}}" nz-input
                                rows="4"
                                placeholder="{{newInput.placeholder}}">
                      </textarea>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                        <ng-container *ngIf="control.hasError('maxlength')">Can't be longer than 250
                            characters
                        </ng-container>
                        <ng-container *ngIf="control.hasError('pattern')">Please enter Valid Input Only
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!----------------------------   richTextBox     ------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="(newInput.input_type=='richTextBox') && !newInput.hidden">
                <span [innerHTML]="newInput.question | keepHtml"></span>
            </nz-form-item>

            <!----------------------------------------------- hyperlink -------------------------------------------------------->
            <nz-form-item [formGroup]="formGroup"
                          *ngIf="(newInput.input_type=='hyperlink') && !newInput.hidden">
                <a (click)="gotoPage(newInput.types.hyperlink)">
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </a>
            </nz-form-item>

            <!----------------------------------------------- Signature -------------------------------------------------------->

            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="(newInput.input_type=='signature') && !newInput.hidden">
                <nz-form-label [nzRequired]="newInput.required">
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </nz-form-label>
                <nz-form-control nzHasFeedback class="signatureClass">
                    <signature-pad disabled="true" #signature
                                   [options]="{ 'minWidth': 0.7,'maxWidth':2.5, 'canvasWidth':(canvasWidth-50),'canvasHeight': ((canvasWidth-50)/6)}"
                                   (onEndEvent)="drawComplete(newInput.name)"
                    ></signature-pad>
                </nz-form-control>
                <button (click)="clearSignature(newInput.name)" type="button" nz-button nzType="dashed" nzBlock>Clear
                </button>
            </nz-form-item>

            <!----------------------------------------------- upload switch - common -------------------------------------------------------->
            <nz-card nz-col [formGroup]="formGroup" style="margin-top: 5px;margin-bottom: 5px"
                     *ngIf="newInput.input_type=='upload-switch'">

                <div fxLayout="row" fxLayoutAlign="space-between center">
                    <span fxLayout="row" fxLayoutAlign="start start">
                        <nz-form-label class="pr-8" style="float: top"
                                       [nzRequired]="newInput.required">
                        </nz-form-label>
                        <span [innerHTML]="newInput.question | keepHtml"></span>
                    </span>

                    <nz-switch (ngModelChange)="onUpload($event, newInput.name)"
                               formControlName="{{newInput.name}}" nzCheckedChildren="Yes"
                               nzUnCheckedChildren="No">
                    </nz-switch>

                </div>

                <div class="mt-16" style="text-align: center"
                     *ngIf="(uploadedFiles[newInput.name] && uploadedFiles[newInput.name].length>0) || onUploadChecked[newInput.name]">
                    <s3-upload [bucket]="s3Bucket"
                               (uploadedFileListChange)="handleUploadChange($event, newInput.name)"
                               [uploadTypeLimit]="uploadTypes"
                               [defaultFileList]="getDefaultFiles(newInput.name)"
                               [path]="s3Path">
                    </s3-upload>
                </div>
                <div class="fileUploadValidate"
                     *ngIf="onUploadChecked[newInput.name] && checkedUploading[newInput.name]">
                    Please upload file
                </div>
            </nz-card>

            <!--------------------------   gender ------------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                          *ngIf="newInput.input_type=='radio-group' && newInput.name=='childGender'">
                <nz-form-label [nzRequired]="newInput.required">
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </nz-form-label>

                <nz-form-control [nzErrorTip]="newInputName">
                    <nz-radio-group formControlName="{{newInput.name}}" nzButtonStyle="solid" class="has-img">

                        <label nz-radio-button nzValue="0">
                            <!--                            <img class="mr-8" src="assets/icons/flat/ui_set/custom_icons/form/male.svg"-->
                            <!--                                 alt="male icon">-->
                            <span>Male</span>
                        </label>

                        <label nz-radio-button nzValue="1">
                            <!--                            <img class="mr-8" src="assets/icons/flat/ui_set/custom_icons/form/femenine.svg"-->
                            <!--                                 alt="female icon">-->
                            <span>Female</span>
                        </label>

                    </nz-radio-group>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please select an gender
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!------------------------------------ booking  ------------------------------>
            <div nz-col [nzMd]="24" [nzLg]="24" *ngIf="newInput.name=='preferedDate'">
                <nz-form-item>

                    <nz-form-label [nzRequired]="newInput.required">What are your preferred days of
                        enrolment?
                    </nz-form-label>

                </nz-form-item>

            </div>

            <div nz-col [nzMd]="24" [formGroup]="formGroup" [nzLg]="24" *ngIf="newInput.name=='preferedDate'"
                 class="align">
                <div formArrayName="{{newInput.name}}">
                    <div class="day-selector" style="margin-top: 15px"
                         *ngFor="let group of bookingArray.controls; let i = index;"
                         [formGroupName]="i">
                        <div nz-col [nzMd]="24" [nzLg]="24" [hidden]="i==0">
                            <button nzType="danger" nz-button type="button" class="btns"
                                    (click)="removeBooking(i)"><i
                                class="trash alternate outline icon"></i></button>
                        </div>
                        <div nz-col [nzXs]="24" [nzSm]="24" [nzMd]="24" [nzLg]="12" [nzXl]="12" [nzXXl]="12">

                            <nz-form-item>

                                <nz-form-control>

                                    <nz-select formControlName="mornings" nzShowSearch nzPlaceHolder="Please Select"
                                               (ngModelChange)="mandatoryChangeEnrolment(i)">

                                        <nz-option *ngFor="let items of time" nzValue="{{ items }}"
                                                   nzLabel="{{ items }}" title="{{items}}">
                                        </nz-option>

                                    </nz-select>

                                </nz-form-control>

                            </nz-form-item>

                        </div>

                        <div nz-col [nzXs]="24" [nzSm]="24" [nzMd]="24" [nzLg]="12" [nzXl]="12" [nzXXl]="12"
                             class="day-selector-inner" fxLayout="row" fxLayoutAlign="space-around center">
                            <ng-container>
                                <label class="attendance-chk" nz-checkbox formControlName="monday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)"
                                       tooltip="{{ 'Monday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Monday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="tuesday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)"
                                       tooltip="{{ 'Tuesday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Tuesday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="wednesday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)"
                                       tooltip="{{ 'Wednesday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Wednesday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="thursday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)"
                                       tooltip="{{ 'Thursday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Thursday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="friday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)"
                                       tooltip="{{ 'Friday' }}" placement="top" display-mobile="false"
                                       hide-delay="50"><span
                                    class="attendance-lbl-inner no-select">{{ 'Friday'| shorten: 2: '' }}</span></label>
                                <label class="attendance-chk" nz-checkbox formControlName="allDays"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)"
                                       tooltip="{{ 'I am fully flexible on days' }}" placement="top"
                                       display-mobile="false"
                                       hide-delay="50"><span [ngClass]="{ weekend : true }"
                                                             class="attendance-lbl-inner no-select">{{ 'AllDays'| shorten: 3: '' }}</span></label>
                            </ng-container>

                            <!--<nz-form-control>
                                <label nz-checkbox formControlName="monday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)">
                                    <span>Monday</span>
                                </label>
                                <label nz-checkbox formControlName="tuesday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)">
                                    <span>Tuesday</span>
                                </label>
                                <label nz-checkbox formControlName="wednesday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)">
                                    <span>Wednesday</span>
                                </label>
                                <label nz-checkbox formControlName="thursday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)">
                                    <span>Thursday</span>
                                </label>
                                <label nz-checkbox formControlName="friday"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)">
                                    <span>Friday</span>
                                </label>
                                <label nz-checkbox formControlName="allDays"
                                       (ngModelChange)="mandatoryChangeEnrolment(i)">
                                    <span>I am fully flexible on days</span>
                                </label>
                            </nz-form-control>-->

                            <div style="color:#f50707;"
                                 *ngIf="newInput.required && !attendanceSet[i] && this.formGroup.controls.preferedDate.touched"
                            >
                                <ng-container>
                                    Please Select
                                </ng-container>
                            </div>

                            <div style="margin-top: 25px" hidden nz-col [nzXs]="24" [nzSm]="24" [nzMd]="24" [nzLg]="12"
                                 [nzXl]="12" [nzXXl]="12">
                                <button *ngIf="i > 0" nz-button nzType="danger" [nzBlock]="true"
                                        (click)="removeBooking(i)">
                                    Remove
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div nz-col style="margin-top: 5px" *ngIf="newInput.name=='preferedDate'" [nzXs]="24" [nzSm]="24"
                 [nzMd]="24" [nzLg]="12"
                 [nzXl]="12" [nzXXl]="12">
                <nz-form-item>
                    <button nz-button nzType="primary" [nzBlock]="true" (click)="addBooking()" type="button">
                        Add another booking
                    </button>
                </nz-form-item>
            </div>

            <!--------------------------   email ------------------------------->
            <nz-form-item class="ant-form-flex" [formGroup]="formGroup" *ngIf="newInput.input_type=='email'">
                <nz-form-label [nzRequired]="newInput.required">
                    <span [innerHTML]="newInput.question | keepHtml"></span>
                </nz-form-label>

                <nz-form-control [nzErrorTip]="newInputName">
                    <input nz-input formControlName="{{newInput.name}}"
                           placeholder="{{newInput.placeholder}}"
                           type="email"/>
                    <ng-template #newInputName let-control>
                        <ng-container *ngIf="control.hasError('required')">Please
                            input {{newInput.placeholder|lowercase}}
                        </ng-container>
                        <ng-container *ngIf="control.hasError('maxlength')">Can't be longer than 150
                            characters
                        </ng-container>
                        <ng-container *ngIf="control.hasError('email')">Please input a valid email address
                        </ng-container>
                    </ng-template>
                </nz-form-control>
            </nz-form-item>

            <!------------------------- add emergency ------------------------>
            <div nz-col [formGroup]="formGroup" [nzMd]="24" [nzLg]="24" class="align"
                 *ngIf="newInput.name=='addEmergencyContact'">
                <div formArrayName="{{newInput.name}}">
                    <div *ngFor="let group of emergencyContactsArray.controls; let i = index;" [formGroupName]="i">

                        <div class="subtitle"
                             nz-col
                             [nzXs]="24" [nzSm]="24" [nzMd]="24" [nzLg]="24" [nzXl]="24"
                             [nzXXl]="24">  {{'emergency contacts'}} {{i + 1}}

                            <button nzType="danger" nz-button type="button" class="btns"
                                    (click)="removeEmergencyContact(i)"><i
                                class="trash alternate outline icon "></i></button>

                        </div>
                        <div nz-row [nzGutter]="24" class="dynamic-align">

                            <div nz-col *ngFor="let emInput of emergencyContacts"
                                 [nzXs]="24"
                                 [nzSm]="(emInput['data'].height=== '33')?8:(emInput['data'].height==='66')?16:(emInput['data'].height==='50')?12:(emInput['data'].height==='70')?18:24"
                                 [nzMd]="(emInput['data'].height=== '33')?8:(emInput['data'].height==='66')?16:(emInput['data'].height==='50')?12:(emInput['data'].height==='70')?18:24"
                                 [nzXl]="(emInput['data'].height=== '33')?8:(emInput['data'].height==='66')?16:(emInput['data'].height==='50')?12:(emInput['data'].height==='70')?18:24"
                                 [nzXXl]="(emInput['data'].height=== '33')?8:(emInput['data'].height==='66')?16:(emInput['data'].height==='50')?12:(emInput['data'].height==='70')?18:24"
                            >
                                <!-- emergency textbox-->
                                <nz-form-item [formGroup]="group"
                                              *ngIf="emInput['data'].input_type=='textbox'">
                                   <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="emInput['data'].required">
                                        </nz-form-label>
                                        <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                   </span>

                                    <nz-form-control [nzErrorTip]="newInputName">
                                        <input nz-input formControlName="{{emInput['name']}}"
                                               placeholder="{{emInput['data'].placeholder}}"
                                               type="text"/>
                                        <ng-template #newInputName let-control>
                                            <ng-container *ngIf="control.hasError('required')">Please
                                                input {{emInput['data'].placeholder|lowercase}}
                                            </ng-container>
                                            <ng-container *ngIf="control.hasError('maxlength')">Can't be longer than 150
                                                characters
                                            </ng-container>
                                            <ng-container *ngIf="control.hasError('pattern')">Please enter Valid Input
                                                Only
                                            </ng-container>
                                        </ng-template>
                                    </nz-form-control>
                                </nz-form-item>

                                <!-------------------------- emergency  email ------------------------------->
                                <nz-form-item class="ant-form-flex" [formGroup]="group"
                                              *ngIf="emInput['data'].input_type=='email'">
                                    <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="emInput['data'].required">
                                        </nz-form-label>
                                        <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                   </span>

                                    <nz-form-control [nzErrorTip]="newInputName">
                                        <input nz-input formControlName="{{emInput['name']}}"
                                               placeholder="{{emInput['data'].placeholder}}"
                                               type="email"/>
                                        <ng-template #newInputName let-control>
                                            <ng-container *ngIf="control.hasError('required')">Please
                                                input {{emInput['data'].placeholder|lowercase}}
                                            </ng-container>
                                            <ng-container *ngIf="control.hasError('maxlength')">Can't be longer than 150
                                                characters
                                            </ng-container>
                                            <ng-container *ngIf="control.hasError('email')">Please input a valid email
                                                address
                                            </ng-container>
                                        </ng-template>
                                    </nz-form-control>
                                </nz-form-item>

                                <!----------------------------------------------- upload switch - common -------------------------------------------------------->
                                <nz-card nz-col [formGroup]="group" style="margin-top: 5px;margin-bottom: 5px"
                                         *ngIf="emInput['data'].input_type=='upload-switch'">

                                    <div fxLayout="row" fxLayoutAlign="space-between center">
                                        <span fxLayout="row" fxLayoutAlign="start start">
                                            <nz-form-label class="pr-8" style="float: top"
                                                           [nzRequired]="emInput['data'].required">
                                            </nz-form-label>
                                            <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                        </span>

                                        <nz-switch (ngModelChange)="onUpload($event, emInput['name'])"
                                                   formControlName="{{emInput['name']}}" nzCheckedChildren="Yes"
                                                   nzUnCheckedChildren="No">
                                        </nz-switch>

                                    </div>

                                    <div class="mt-16" style="text-align: center"
                                         *ngIf="(uploadedFiles[emInput['name']] && uploadedFiles[emInput['name']].length>0) || onUploadChecked[emInput['name']]">
                                        <s3-upload [bucket]="s3Bucket"
                                                   (uploadedFileListChange)="handleUploadChange($event,emInput['name'])"
                                                   [uploadTypeLimit]="uploadTypes"
                                                   [defaultFileList]="getDefaultFiles(emInput['name'])"
                                                   [path]="s3Path">
                                        </s3-upload>
                                    </div>
                                    <div class="fileUploadValidate"
                                         *ngIf="onUploadChecked[emInput['name']] && checkedUploading[emInput['name']]">
                                        Please upload file
                                    </div>
                                </nz-card>

                                <!----------------------------   select     ------------------------->
                                <nz-form-item class="ant-form-flex" [formGroup]="group"
                                              *ngIf="emInput['data'].input_type=='select' && newInput.name !=='parentCountry'">
                                    <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="emInput['data'].required">
                                        </nz-form-label>
                                        <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                   </span>

                                    <nz-form-control [nzErrorTip]="newInputName">
                                        <nz-select formControlName="{{emInput['name']}}" nzShowSearch
                                                   nzPlaceHolder="{{emInput['data'].placeholder}}">
                                            <nz-option *ngFor="let items of emInput['data'].types.options"
                                                       nzValue="{{ items }}"
                                                       nzLabel="{{ items }}" title="{{items}}">
                                            </nz-option>
                                        </nz-select>
                                        <ng-template #newInputName let-control>
                                            <ng-container *ngIf="control.hasError('required')">Please
                                                input {{emInput['data'].placeholder|lowercase}}
                                            </ng-container>
                                        </ng-template>
                                    </nz-form-control>
                                </nz-form-item>


                                <!----------------------------   select-multiple     ------------------------->
                                <nz-form-item class="ant-form-flex" [formGroup]="group"
                                              *ngIf="emInput['data'].input_type=='select-multiple'">
                                   <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="emInput['data'].required">
                                        </nz-form-label>
                                        <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                   </span>
                                    <nz-form-control>
                                        <nz-select nzMode="multiple" formControlName="{{emInput['name']}}" nzShowSearch
                                                   nzAllowClear
                                                   nzPlaceHolder="{{emInput['data'].placeholder}}">

                                            <nz-option *ngFor="let items of emInput['data'].types.options"
                                                       nzValue="{{ items }}"
                                                       nzLabel="{{ items }}" title="{{items}}">
                                            </nz-option>

                                        </nz-select>
                                    </nz-form-control>
                                </nz-form-item>

                                <!----------------------------   datepicker     ------------------------->
                                <nz-form-item class="ant-form-flex" [formGroup]="group"
                                              *ngIf="emInput['data'].input_type=='date-picker'">
                                    <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="emInput['data'].required">
                                        </nz-form-label>
                                        <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                   </span>
                                    <nz-form-control [nzErrorTip]="newInputName">
                                        <nz-date-picker [nzInputReadOnly]="true"
                                                        formControlName="{{emInput['name']}}"
                                                        placeholder="{{emInput['data'].placeholder}}"
                                                        class="block">
                                        </nz-date-picker>
                                        <ng-template #newInputName let-control>
                                            <ng-container *ngIf="control.hasError('required')">Please
                                                input {{emInput['data'].placeholder|lowercase}}
                                            </ng-container>
                                        </ng-template>
                                    </nz-form-control>
                                </nz-form-item>

                                <!----------------------------   richTextBox     ------------------------->
                                <nz-form-item class="ant-form-flex" [formGroup]="group"
                                              *ngIf="(emInput['data'].input_type=='richTextBox') && !emInput['data'].hidden">
                                    <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                </nz-form-item>

                                <!----------------------------------------------- hyperlink -------------------------------------------------------->
                                <nz-form-item [formGroup]="group"
                                              *ngIf="(emInput['data'].input_type=='hyperlink') && !emInput['data'].hidden">
                                    <a
                                        (click)="gotoPage(emInput['data'].types.hyperlink)">
                                        <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                    </a>
                                </nz-form-item>

                                <!----------------------------   switch/toggle     ------------------------->
                                <nz-form-item nz-col [nzXs]="mobile?16:''" [formGroup]="group"
                                              *ngIf="emInput['data'].input_type=='switch'">
                                    <div fxLayout="row" fxLayoutAlign="space-between center">
                                       <span fxLayout="row" fxLayoutAlign="start start">
                                            <nz-form-label class="pr-8" style="float: top"
                                                           [nzRequired]="emInput['data'].required">
                                            </nz-form-label>
                                            <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                        </span>

                                        <nz-form-control class="text-right" style="padding-left: 30px">
                                            <nz-switch
                                                formControlName="{{emInput['data'].name}}"
                                                nzCheckedChildren="Yes"
                                                nzUnCheckedChildren="No">
                                            </nz-switch>
                                        </nz-form-control>
                                    </div>
                                </nz-form-item>

                                <!-- emergency checkbox-->
                                <div [formGroup]="group" nz-col [nzMd]="24" [nzLg]="24"
                                     *ngIf="emInput['data'].input_type=='checkbox'">
                                    <!--multiple-->
                                    <div *ngIf="emInput['data'].types?.multiple">
                                        <div>
                                             <span fxLayout="row" fxLayoutAlign="start start">
                                                <nz-form-label class="pr-8" style="float: top"
                                                               [nzRequired]="emInput['data'].required"
                                                               *ngIf="emInput['data'].types?.multiple">
                                                </nz-form-label>
                                                <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                             </span>
                                        </div>
                                        <div>
                                            <nz-checkbox-wrapper *ngIf="emInput['data'].types?.multiple"
                                                                 style="width: 100%;padding-left: 20px">
                                                <div nz-row>
                                                    <div nz-col nzSpan="24"
                                                         *ngFor="let option of emInput['data'].types.options">
                                                        <label nz-checkbox nzMode="multiple"
                                                               [nzChecked]="((emergencyContactsAnswers[i])===undefined || emergencyContactsAnswers[i][emInput['name']]===false|| emergencyContactsAnswers[i][emInput['name']]===null || emergencyContactsAnswers[i][emInput['name']]==='')?false:(emergencyContactsAnswers[i][emInput['name']].indexOf(option) > -1)"
                                                               (nzCheckedChange)="changeMultiChecks(emInput['data'].name+'_em_'+i,$event,option,section['code'])"
                                                               nzValue="{{option}}">{{option}}</label>
                                                    </div>
                                                </div>
                                            </nz-checkbox-wrapper>
                                        </div>
                                    </div>


                                    <!--normal-->
                                    <div fxLayout="row" fxLayoutAlign="start start"
                                         *ngIf="(emInput['data'].types?.multiple===false || emInput['data'].types?.multiple===undefined) && (emInput['data'].types?.fontBold === undefined || emInput['data'].types.fontBold===false)">
                                            <label
                                                *ngIf="(emInput['data'].types?.multiple===false || emInput['data'].types?.multiple===undefined) && (emInput['data'].types?.fontBold === undefined || emInput['data'].types.fontBold===false)"
                                                nz-checkbox
                                                formControlName="{{emInput['data'].name}}">
                                                <!--                    <span>{{input.question}}</span>-->
                                            </label>
                                            <span class="checkboxLabel"
                                                  *ngIf="(emInput['data'].types?.multiple===false || emInput['data'].types?.multiple===undefined) && (emInput['data'].types?.fontBold === undefined || emInput['data'].types.fontBold===false)">
                                                        <span fxLayout="row" fxLayoutAlign="start start">
                                                                <nz-form-label class="pr-8" style="float: top"
                                                                               [nzRequired]="emInput['data'].required">
                                                                </nz-form-label>
                                                                <span
                                                                    [innerHTML]="emInput['data'].question | keepHtml"></span>
                                                        </span>
                                                </span>
                                    </div>


                                    <!--bold-->
                                    <div fxLayout="row" fxLayoutAlign="start start"
                                         *ngIf="(emInput['data'].types?.fontBold !== undefined && emInput['data'].types?.fontBold===true) && (emInput['data'].types?.multiple===false || emInput['data'].types?.multiple===undefined)">
                                            <label
                                                *ngIf="(emInput['data'].types?.fontBold !== undefined && emInput['data'].types?.fontBold===true) && (emInput['data'].types?.multiple===false || emInput['data'].types?.multiple===undefined)"
                                                nz-checkbox
                                                formControlName="{{emInput['data'].name}}">

                                            </label>
                                            <span class="checkboxLabel"
                                                  *ngIf="(emInput['data'].types?.fontBold !== undefined && emInput['data'].types?.fontBold===true) && (emInput['data'].types?.multiple===false || emInput['data'].types?.multiple===undefined)">
                                                   <b>
                                                            <span fxLayout="row" fxLayoutAlign="start start">
                                                                <nz-form-label class="pr-8" style="float: top"
                                                                               [nzRequired]="emInput['data'].required">
                                                                </nz-form-label>
                                                                <span
                                                                    [innerHTML]="emInput['data'].question | keepHtml"></span>
                                                            </span>
                                                    </b>
                                                </span>
                                    </div>
                                </div>


                                <!-- emergency textarea-->
                                <nz-form-item [formGroup]="group" class="ant-form-flex"
                                              *ngIf="emInput['data'].input_type=='text-area'">
                                     <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="emInput['data'].required">
                                        </nz-form-label>
                                        <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                    </span>

                                    <nz-form-control [nzErrorTip]="newInputName">
                                                                                  <textarea
                                                                                      formControlName="{{emInput['name']}}"
                                                                                      nz-input
                                                                                      rows="4"
                                                                                      placeholder="{{emInput['data'].placeholder}}">
                                                                                  </textarea>
                                        <ng-template #newInputName let-control>
                                            <ng-container *ngIf="control.hasError('required')">Please
                                                input {{emInput['data'].placeholder|lowercase}}
                                            </ng-container>
                                            <ng-container *ngIf="control.hasError('maxlength')">Can't be longer than 250
                                                characters
                                            </ng-container>
                                            <ng-container *ngIf="control.hasError('pattern')">Please enter Valid Input
                                                Only
                                            </ng-container>
                                        </ng-template>
                                    </nz-form-control>
                                </nz-form-item>

                                <!----------------------------------------------- Signature -------------------------------------------------------->

                                <nz-form-item class="ant-form-flex" [formGroup]="formGroup"
                                              *ngIf="(emInput['data'].input_type=='signature') && !emInput['data'].hidden">
                                     <span fxLayout="row" fxLayoutAlign="start start">
                                        <nz-form-label class="pr-8" style="float: top"
                                                       [nzRequired]="emInput['data'].required">
                                        </nz-form-label>
                                        <span [innerHTML]="emInput['data'].question | keepHtml"></span>
                                    </span>
                                    <nz-form-control nzHasFeedback class="signatureClass">
                                        <signature-pad disabled="true" #emergencySignature
                                                       [options]="{ 'minWidth': 0.7,'maxWidth':2.5, 'canvasWidth':(canvasWidth-50),'canvasHeight': ((canvasWidth-50)/6)}"
                                                       (onEndEvent)="drawEmergencyComplete((i),emInput['name'])"
                                        ></signature-pad>
                                    </nz-form-control>
                                    <button (click)="clearEmergencySignature((i),emInput['name'])" type="button"
                                            nz-button
                                            nzType="dashed" nzBlock>
                                        Clear
                                    </button>
                                </nz-form-item>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div nz-col [nzMd]="24" [nzLg]="24" *ngIf="newInput.name=='addEmergencyContact'">
                <button class="add-btn" nzType="primary" nz-button type="button" (click)="addEmergencyContact()">Add
                    Emergency
                    Contact
                    <i class="plus icon mr-8" style="padding-left: 12px;"></i></button>
            </div>


            <!-------------------  allergies---------------------->

            <div nz-col [nzMd]="24" [nzLg]="24" [formGroup]="formGroup"
                 *ngIf="newInput.name=='addAllergy'"
                 class="align">
                <div formArrayName="{{newInput.name}}">
                    <div *ngFor="let group of allergyArray.controls; let i = index;" [formGroupName]="i">

                        <div nz-row [nzGutter]="24" class="dynamic-align">

                            <nz-form-item nz-col [nzMd]="24" [nzLg]="24" *ngIf="i > 0">
                                <button nzType="danger" nz-button type="button" class="btns"
                                        (click)="removeAllergy(i)"><i
                                    class="trash alternate outline icon "></i></button>
                            </nz-form-item>
                            <div nz-col [nzXs]="24" [nzSm]="24" [nzMd]="24" [nzLg]="12" [nzXl]="12" [nzXXl]="12"
                            >
                                <nz-form-item>
                                    <nz-form-label>Details of allergies/dietary requirements</nz-form-label>
                                    <nz-form-control nzHasFeedback>
                                        <nz-select formControlName="allergies" nzShowSearch
                                                   nzPlaceHolder="Select One">
                                            <nz-option *ngFor="let items of allergiesList"
                                                       nzValue="{{ items.index }}"
                                                       nzLabel="{{ items.name }}" title="{{items.name}}">
                                            </nz-option>
                                        </nz-select>
                                    </nz-form-control>
                                </nz-form-item>
                            </div>
                            <div nz-col [nzXs]="24" [nzSm]="24" [nzMd]="24" [nzLg]="12" [nzXl]="12" [nzXXl]="12"
                            >

                                <nz-form-item>

                                    <nz-form-label>Details of allergies/dietary requirements</nz-form-label>

                                    <nz-form-control nzHasFeedback>

                                        <input nz-input formControlName="detailsOfAllergies"
                                               placeholder="Allergies/dietary requirements" type="text"/>

                                    </nz-form-control>

                                </nz-form-item>

                            </div>


                        </div>

                    </div>
                </div>

            </div>

            <div nz-col [nzMd]="24" [nzLg]="24" *ngIf="newInput.name=='addAllergy'">
                <button nzType="primary" nz-button type="button" (click)="addAllergy()">
                    {{(mobile) ? 'Add Allergy' : 'Add Allergy/Special Dietary Needs'}}
                    <i class="plus icon mr-8" style="padding-left: 12px;"></i>
                </button>
            </div>


        </div>
    </div>
</div>