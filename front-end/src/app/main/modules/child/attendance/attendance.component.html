<div class="page-layout carded fullwidth inner-scroll" *canViewAuth [@fadeInOnEnter]>

    <!-- CENTER -->
    <div class="center">

        <!-- CONTENT HEADER -->
        <div class="header pt-24 pb-24" fxLayout="row" fxLayoutAlign="space-between center">

            <h1 [@animate]="{ value:'*', params:{ delay: '100ms', x:'-25px' } }">

                <span class="h2">
                    Attendance
                </span>

            </h1>

            <!-- <ng-container *hasPermission="['AC1']; belongsTo 'N28'">

                <button class="text-uppercase"
                    nz-button 
                    nzType="primary" 
                    (click)="createBooking($event)"
                    [promiseBtn]="buttonLoader">
                    <i class="plus icon mr-8"></i> Create New
                </button>

            </ng-container> -->

        </div>
        <!-- / CONTENT HEADER -->

        <!-- CONTENT CARD -->
        <div class="content-card ps" [@animate]="{ value:'*', params:{ delay: '100ms', y:'15px' } }">

            <!-- CONTENT TOOLBAR -->
            <div class="toolbar px-8" fxLayout="row" fxLayoutAlign="space-between center">

                <span class="text-uppercase go-back-link" 
                    (click)="onBack($event)">
                    <i class="long arrow alternate left icon"></i> 
                    <span>Go Back</span>
                </span>

                <span fxLayout="row" fxLayoutAlign="space-between center">

                    <button class="text-uppercase blank qt"
                        [ngClass]="{ 'active' : viewHelpPanel }"
                        nz-button 
                        nzType="link"
                        (click)="showHelpPanel($event)">
                        <i class="question circle outline icon"></i>
                    </button>

                    <button class="text-uppercase blank qt"
                        [ngClass]="{ 'active' : showBookingInfo }"
                        nz-button 
                        nzType="link"
                        (click)="showBookingDetails($event)"
                        tooltip="show booking details" placement="bottom" display-mobile="false" hide-delay="50">
                        <i class="external square alternate icon"></i>
                    </button>

                    <!-- <span class="clear-filter" 
                        *ngIf="filterFormChanged" [@fadeMotion]
                        (click)="clearFilter($event)">
                        clear filter
                    </span> -->

                    <!-- <button class="text-uppercase blank"
                        nz-button 
                        nzType="link"
                        (click)="toggleSidebar('child-calendar-filter-sidebar')">
                        <i class="filter icon"></i>
                    </button>

                    <button class="text-uppercase blank"
                        nz-button 
                        nzType="link" 
                        nzSize="large" 
                        [matMenuTriggerFor]="menu">
                        <i class="ellipsis vertical icon"></i>
                    </button>

                    <mat-menu #menu="matMenu" backdropClass="tlp-more">

                        <button mat-menu-item 
                            (click)="refreshCalendar($event)">
                            <i class="sync alternate icon"></i>
                            <span class="font-weight-600">Refresh</span>
                        </button>

                        <button mat-menu-item 
                            (click)="manageBookings($event)">
                            <i class="edit outline icon"></i>
                            <span class="font-weight-600">Manage Bookings</span>
                        </button>

                    </mat-menu> -->

                </span>

            </div>
            <!-- / CONTENT TOOLBAR -->

            <!-- CONTENT -->
            <div class="content ps" fxLayout="column">

                <div class="loading-bar" *ngIf="calendarLoading" [@fadeMotion]>
                    <div class="__inner">
                        <img src="assets/loading/gears_c1.svg">
                        <span>Loading! Please Wait...</span>
                    </div>
                </div>

                <div class="help-panel" *ngIf="viewHelpPanel" [@slideMotion]="'bottom'">

                    <ul>
                        <li>
                            <i class="color-box circle icon mr-8 completed"></i>
                            <span class="label">Attended</span>
                            <!-- <span class="label highlight">{{ attendanceSummary?.attended || 0 }}</span> -->
                        </li>
                        <li>
                            <i class="color-box circle icon mr-8 not-completed"></i>
                            <span class="label">Incomplete</span>
                        </li>
                        <li>
                            <i class="color-box circle icon mr-8 no-attendance"></i>
                            <span class="label">No Attendance</span>
                        </li>
                        <li>
                            <i class="color-box circle icon mr-8 holiday"></i>
                            <span class="label">Holiday</span>
                        </li>
                        <li>
                            <i class="color-box circle icon mr-8 absence"></i>
                            <span class="label">Absence</span>
                        </li>
                    </ul>

                </div>

                <attendance-week-view></attendance-week-view>
                
            </div>
            <!-- / CONTENT -->

        </div>
        <!-- / CONTENT CARD -->

    </div>
    <!-- / CENTER -->

</div>